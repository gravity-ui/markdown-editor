.g-md-yfm-table-dnd-cursor-background {
    position: fixed;
    z-index: 100500;
    inset: 0;

    overflow: hidden;

    cursor: grabbing;

    background: transparent;
}

.yfm.g-md-yfm-table-dnd-ghost,
.g-button.g-md-yfm-table-dnd-ghost-button {
    position: fixed;

    cursor: grabbing;
    pointer-events: none;

    transition: none;
    will-change: transform;
}

.yfm.g-md-yfm-table-dnd-ghost {
    & > table {
        border-color: var(--g-color-line-brand);
        box-shadow: 0 8px 20px 1px var(--g-color-sfx-shadow);

        & > tbody > tr > td {
            border-color: var(--g-color-line-brand);
        }
    }
}

.g-button.g-md-yfm-table-dnd-ghost-button {
    --g-button-background-color-hover: var(--g-color-base-background);
    --g-button-background-color: var(--g-color-base-background);
    --g-button-border-color: var(--g-color-line-brand);
    --g-button-text-color: var(--g-color-text-brand);

    z-index: 2;
}

.yfm.ProseMirror table {
    td {
        $selectedCell: 'g-md-yfm-table-selected-cell';

        position: relative;

        &.#{$selectedCell} {
            overflow: unset;

            border-color: var(--g-color-line-brand);
            background-color: var(--g-color-base-selection);

            &::after {
                position: absolute;
                z-index: 2;
                inset: -1px;

                display: inline-block;

                content: '';
                pointer-events: none;

                border: 1px solid var(--g-color-line-brand);
            }

            &_first-row::after {
                top: 0;
            }

            &_last-row::after {
                bottom: 0;
            }

            &_first-column::after {
                left: 0;
            }

            &_last-column::after {
                right: 0;
            }

            &_first-row.#{$selectedCell}_first-column::after {
                border-top-left-radius: 8px;
            }

            &_first-row.#{$selectedCell}_last-column::after {
                border-top-right-radius: 8px;
            }

            &_last-row.#{$selectedCell}_first-column::after {
                border-bottom-left-radius: 8px;
            }

            &_last-row.#{$selectedCell}_last-column::after {
                border-bottom-right-radius: 8px;
            }

            &.dragged-cell::before {
                position: absolute;
                inset: 0;

                display: inline-block;

                content: '';
                pointer-events: none;

                opacity: 0.7;
                background-color: var(--g-color-base-background);
            }
        }
    }
}
